<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="./lib/css/styles.css">
</head>

<body>

  <div class="grid-container">
    <header class="header">
      <div>
        Patient Name:
        <span class="banner-value" id="patient_name">..</span>
        Gender:
        <span class="banner-value" id="gender">..</span>
        DOB:
        <span class="banner-value" id="dob">..</span>
      </div>
    </header>

    <main class="main">
      <div class="main-overview">
        <!-- <div class="small-card">
          <div>Height</div>
          <div class="ob-value" id="height">undefined</div>
        </div>
        <div class="small-card">
          <div>Weight</div>
          <div class="ob-value" id="weight">undefined</div>
        </div> -->
        <div class="small-card">
          <div>Systolic Blood Pressure</div>
          <div class="ob-value" id="sys">undefined</div>
        </div>
        <div class="small-card">
          <div>Diastolic Blood Pressure</div>
          <div class="ob-value" id="dia">undefined</div>
        </div>
        <div class="small-card">
          <div>LDL</div>
          <div class="ob-value" id="ldl">undefined</div>
        </div>
        <div class="small-card">
          <div>HDL</div>
          <div class="ob-value" id="hdl">undefined</div>
        </div>
      </div>

      <div class="big-card">
        <div class="card">
          <div class="title">
            Risk Percentage
          </div>
          <!-- <ul id="med_list"></ul> -->
          <div class= "ob-value" id="risk"></div>
        </div>
      </div>
      <div style="position:relative; height: 40vh; width:80vw"> 
        <canvas id="menChart" width="100px" height="100px"></canvas>
        <canvas id="womenChart" width="100px" height="100px"></canvas>
      </div>

    </main>
  </div>

  <script src='./lib/js/fhir-client.js'></script>
  <script src="./lib/js/get-data.js"></script>

  <!-- uncomment below script and comment above script to switch for easy local testing -->
  <!-- <script src="./lib/js/get-data-test.js"></script>  -->
  <script src="./lib/js/chart.js/dist/chart.js"></script>
  <script>
    var ctxmen = document.getElementById('menChart');
    var ctxwomen = document.getElementById('womenChart');
    men = [3,5,7,11,14,16,21,25,30]
    women = [1,1,2,5,8,12,12,13,14]
    var menChart = new Chart(ctxmen, {
        type: 'bar',
        data: {
            labels: ['30-34 Years', '35-39 Years', '40-44 Years', '45-49 Years', '50-54 Years', '55-59 Years', '60-64 Years','65-69 Years','70-74 Years'],
            datasets: [{
                label: 'Men Comparative Risk Percentage',
                data: men,
                backgroundColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(255, 99, 132, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
    var womenChart = new Chart(ctxwomen, {
        type: 'bar',
        data: {
            labels: ['30-34 Years', '35-39 Years', '40-44 Years', '45-49 Years', '50-54 Years', '55-59 Years', '60-64 Years','65-69 Years','70-74 Years'],
            datasets: [{
                label: 'Women Comparative Risk Percentage',
                data: women,
                backgroundColor: [
                    'rgba(75, 192, 192, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(75, 192, 192, 1)'
                ],
                borderColor: [
                    'rgba(75, 192, 192, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(75, 192, 192, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
  </script>
  
</body>

</html>
